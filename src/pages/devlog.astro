---
import Base from "../layouts/Base.astro";
import posts from "../data/devlog.json";
import "../styles/devlog.css";

const sorted = [...posts].sort((a, b) => new Date(b.date) - new Date(a.date));
const fmt = (iso) => new Date(iso).toLocaleDateString("en-GB", {
  year: "numeric", month: "short", day: "2-digit"
});
---

<Base title="Devlog" description="Latest updates and progress logs for Voidless Tale." pageClass="page-devlog">
  <div>
  <section id="devlog-id" class="">
    <h1 class="devlog-heading" data-reveal>Devlog</h1>
    <p class="devlog-lead" data-reveal>
      Changelogs, experiments, and behind-the-scenes notes.
    </p>

    <ul class="devlog-list">
      {sorted.map((p) => (
        <li class="devlog-card" data-reveal>
          <h2 class="devlog-card-title"><a href={`/devlog/${p.slug}`}>{p.title}</a></h2>
          <p class="devlog-card-date">{fmt(p.date)}</p>
          <p class="devlog-card-summary">{p.summary}</p>
          <div style="margin-top:1rem;">
            <a class="btn btn-primary" href={`/devlog/${p.slug}`}>Read</a>
          </div>
        </li>
      ))}
    </ul>
  </section>
  </div>
</Base>

