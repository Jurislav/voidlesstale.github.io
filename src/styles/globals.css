@tailwind base;
@tailwind components;
@tailwind utilities;

:root[data-theme="hell"]{
  --bg:#0b0b0f; --bg-grad-1:#101016; --bg-grad-2:#1a0f14;
  --accent:#d72638; --accent-2:#ff6b6b;
  --panel:#17141b; --panel-border:#3a2630;
  --ink:#e8e8f0; --ink-strong:#ffffff; --muted:#b0b0c0;
  --noise-opacity:.07;
  --bg-1: var(--bg);
  --bg-2: var(--panel);
  --shadow: rgba(0,0,0,.35);
}

/* HEAVEN — gold palette with readable text & matching radius */
:root[data-theme="heaven"]{
  --bg:#1a140b; --bg-grad-1:#0f0b06; --bg-grad-2:#2a1e0c;

  /* Golds */
  --accent:#DB9200;           /* primary gold */
  --accent-2:#FFA800;         /* highlight gold */
  --panel:#8A5C00;            /* panel fill (deep gold-brown) */
  --panel-border:#523600;     /* dark gold-brown border */

  /* Text */
  --ink:#FFF5E1;              /* cream (for dark bg/panels) */
  --ink-strong:#FFF5E1;       /* keep cream as strong on panels for readability */
  --muted:#E9D9B9;

  --noise-opacity:.07;
  --bg-1: var(--bg);
  --bg-2: var(--panel);
  --shadow: rgba(0,0,0,.35);
}

html { color-scheme: dark; background: var(--bg); }
body { color: var(--ink); font-family: theme('fontFamily.body'); }

/* Backdrop is fixed & empty – visuals live on ::before/::after */
.vt-backdrop{
  position: fixed;
  inset: 0;
  min-height: 100dvh;
  z-index: -1;              /* background layer */
  pointer-events: none;
}
.vt-backdrop::before{
  content:"";
  position:absolute; inset:0;
  background: radial-gradient(120% 100% at 50% 0%,
    var(--bg-grad-2) 0%,
    var(--bg-grad-1) 50%,
    var(--bg) 100%);
}
.vt-backdrop::after{
  content:"";
  position:absolute; inset:0;
  background-image:
    linear-gradient(180deg,
      color-mix(in srgb, var(--accent-2) 8%, transparent),
      color-mix(in srgb, var(--accent) 8%, transparent)),
    repeating-conic-gradient(
      color-mix(in srgb, var(--accent) 4%, transparent) 0 1deg,
      transparent 1deg 2deg);
  background-size: cover, 256px 256px;
  mix-blend-mode: overlay;
  opacity: var(--noise-opacity, .07);
}

/* Foreground/content layer — always above backdrop and protected from blend */
.vt-content,
#content,
#vt-content{
  position: relative;
  z-index: 1;          /* above .vt-backdrop */
  isolation: isolate;  /* prevent overlay from washing content */
}

/* Optional: keep nav above content if needed */
.safenav{ position: relative; z-index: 2; }

/* Optional: on Devlog only, neutralize blend for extra clarity */
.page-devlog .vt-backdrop::after { mix-blend-mode: normal; }

[data-reveal] {
  opacity: .01;
  transform: translateY(12px);
  transition: opacity .4s ease, transform .4s ease;
}
[data-revealed='true'] { opacity: 1; transform: none; }

.btn {
  @apply inline-flex items-center justify-center rounded-2xl px-4 py-2 border bg-bg2 text-ink focus-visible:outline focus-visible:outline-2 focus-visible:outline-accent transition;
  border-color: var(--accent);
}
.btn:hover { background-color: color-mix(in srgb, var(--accent) 20%, transparent); }
.btn-primary{
  background:linear-gradient(180deg,var(--accent-2),var(--accent));
  color:#1a1212; border:1px solid var(--panel-border);
}
/* Heaven-only: readable primary button text/border on gold */
:root[data-theme="heaven"] .btn-primary{
  color:#2a1b0a;            /* dark readable text on gold gradient */
  border-color:#523600;
}
.btn-secondary{
  background:transparent; color:var(--ink);
  border:1px solid var(--accent);
}

.card{
  background:var(--panel);
  border:1px solid var(--panel-border);
  color:var(--ink-strong);
  border-radius: theme('borderRadius.2xl'); /* match Hell’s rounded look */
  box-shadow:0 10px 30px -10px rgba(0,0,0,.35);
}
/* Heaven cards: cream body text; lighter, gold headings for contrast */
:root[data-theme="heaven"] .card{ color:#FFF5E1; }
:root[data-theme="heaven"] .card h3{ color:#DB9200; }

:root[data-theme="hell"]   .heaven-only{ display:none !important; }
:root[data-theme="heaven"] .hell-only  { display:none !important; }

/* Theme/color chips on Heaven */
[data-theme="heaven"] .theme-chip{
  border: 2px solid var(--panel-border);
  box-shadow: 0 0 0 2px #00000044 inset;
}
[data-theme="heaven"] .theme-chip label{
  color:#2a1b0a; /* readable on light golds */
  text-shadow: 0 1px 0 #ffffffaa;
}
[data-theme="heaven"] .theme-chip.is-active{ outline: 3px solid var(--accent); }

/* Remove stray pseudo-element squares near hero text */
.hero :where(p,h1,h2,h3,li,a)::before,
.hero :where(p,h1,h2,h3,li,a)::after,
.lead::before, .lead::after{ content:none !important; display:none !important; }

/* Hero lists must not show markers */
.hero ul, .hero ol{ list-style:none; padding-left:0; }

/* If any debug elems slipped in, hide them */
.debug, .vt-cube, .floating-cube, [data-debug]{ display:none !important; }
/* Backdrop must be empty: if anything got appended, hide it */
.vt-backdrop > *{ display:none !important; }
