@tailwind base;
@tailwind components;
@tailwind utilities;

html[data-theme='hell'], html:not([data-theme]) {
  --bg: #0b0b0f;
  --bg-grad-1: #101016;
  --bg-grad-2: #1a0f14;
  --accent: #d72638;
  --accent-2: #ff6b6b;
  --panel: #17141b;
  --panel-border: #3a2630;
  --ink: #e8e8f0;
  --muted: #b0b0c0;
  --noise-opacity: .07;
  --bg-1: var(--bg);
  --bg-2: var(--panel);
  --shadow: rgba(0,0,0,.35);
}
:root[data-theme='heaven']{
  --bg: #1a140b;
  --bg-grad-1: #0f0b06;
  --bg-grad-2: #2a1e0c;
  --accent: #CDA434;
  --accent-2: #EADBA2;
  --panel: #F1E6BE;
  --panel-border: #8B6B23;
  --ink: #FFF5E1;
  --muted: #E9D9B9;
  --noise-opacity: .07;
  --bg-1: var(--bg);
  --bg-2: var(--panel);
  --shadow: rgba(0,0,0,.35);
}

html { color-scheme: dark; background: var(--bg-1); }
body { color: var(--ink); font-family: theme('fontFamily.body'); }

/* Backdrop is fixed & empty – visuals live on ::before/::after */
.vt-backdrop{
  position: fixed; inset: 0; min-height: 100dvh;
  z-index: -1; pointer-events: none;
}
.vt-backdrop::before{
  content:"";
  position:absolute; inset:0;
  background: radial-gradient(120% 100% at 50% 0%,
    var(--bg-grad-2) 0%,
    var(--bg-grad-1) 50%,
    var(--bg) 100%);
}
.vt-backdrop::after{
  content:"";
  position:absolute; inset:0;
  background-image:
    linear-gradient(180deg,
      color-mix(in srgb, var(--accent-2) 8%, transparent),
      color-mix(in srgb, var(--accent) 8%, transparent)),
    repeating-conic-gradient(
      color-mix(in srgb, var(--accent) 4%, transparent) 0 1deg,
      transparent 1deg 2deg);
  background-size: cover, 256px 256px;
  mix-blend-mode: overlay;
  opacity: var(--noise-opacity, .07);
}

/* Prevent accidental markers or debug squares in hero/lead text */
.hero p, .lead { list-style:none; }
.hero p::before, .hero p::after, .lead::before, .lead::after { content:none !important; }

/* Nuke any legacy debug square classes just in case */
.debug, .vt-cube, .floating-cube, [data-debug]{ display:none !important; }
.vt-backdrop > *{ display:none !important; }

[data-reveal] {
  opacity: .01;
  transform: translateY(12px);
  transition: opacity .4s ease, transform .4s ease;
}
[data-revealed='true'] { opacity: 1; transform: none; }

.btn {
  @apply inline-flex items-center justify-center rounded-2xl px-4 py-2 border bg-bg2 text-ink focus-visible:outline focus-visible:outline-2 focus-visible:outline-accent transition;
  border-color: var(--accent);
}
.btn:hover { background-color: color-mix(in srgb, var(--accent) 20%, transparent); }
.btn-primary { @apply bg-accent text-bg1; }

/* Heaven theme – warm gold on deep umber, less glare */
.card{
  background: var(--panel);
  border:1px solid var(--panel-border);
  box-shadow:0 10px 30px -10px rgba(0,0,0,.35);
}
[data-theme="heaven"] .card{ color:#2a220f; }
[data-theme="heaven"] .card h3{ color:#3b2f10; }
[data-theme="heaven"] .btn-primary{
  background: linear-gradient(180deg, var(--accent-2), var(--accent));
  color: #241b0a;
  border: 1px solid var(--panel-border);
}
[data-theme="heaven"] .btn-primary:hover{ filter: brightness(0.95); }

:root[data-theme="hell"]   .heaven-only{ display:none !important; }
:root[data-theme="heaven"] .hell-only  { display:none !important; }

/* Improve readability of any theme/color chooser chips on Heaven */
[data-theme="heaven"] .theme-chip{
  border: 2px solid var(--panel-border);
  box-shadow: 0 0 0 2px #00000044 inset;
}
[data-theme="heaven"] .theme-chip label{
  color: #241b0a; /* readable on light gold */
  text-shadow: 0 1px 0 #ffffffaa;
}
[data-theme="heaven"] .theme-chip.is-active{ outline: 3px solid var(--accent); }

